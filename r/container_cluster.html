<!-- begin _meta.erb -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="description" content="IBM Cloud Provider for Terraform(tm) documentation">
    <title>
      IBM Cloud Provider for Terraform(tm) Documentation
    </title>
    <link href="../stylesheets/normalize.css" rel="stylesheet" />
    <!-- Latest compiled and minified Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
    <link href="../stylesheets/main.css" rel="stylesheet" />
    <link href="../stylesheets/custom.css" rel="stylesheet" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic">
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans+Condensed:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800">
    <!-- these were in footer_scripts.html but need to load early or refactor -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
  </head>
  <!-- end _meta.erb -->

<body>
  
<nav class="top-block navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="/tf-ibm-docs/index.html">IBM Cloud Provider for Terraform&trade;</a>
      <i class="navbar-brand version-header">
        VERSION: v0.4.0
      </i>
    </div>
    <div id="navbar" class="collapse navbar-collapse">
      <ul class="nav navbar-nav navbar-right">
        <li>
          <a href="https://github.com/IBM-Bluemix/terraform-provider-ibm">
            <i class="fa fa-lg fa-github"></i>GitHub</a>
        </li>
        <li>
          <a href="https://ibm-cloud-schematics.slack.com/signup">
            <i class="fa fa-lg fa-slack"></i>
            Slack</a>
        </li>
      </ul>
    </div>
    <!--/.nav-collapse -->
  </div>
</nav>

  <div class="container-fluid">
    <div class="row">
      
<div id="sidebar-container" class="col-lg-2 col-md-3 col-sm-6 col-xs-12">
  <div class="sidebar-content">
    <ul class="list-unstyled">
        <li>
          <label class="tree-toggle">
            <i class="fa fa-caret-down"></i>
            Cloud Foundry Data Sources
          </label>
          <ul class="list-unstyled tree">
            <li>
              <a href="/tf-ibm-docs/v0.4.0/d/account.html">account</a>
            </li>
            <li>
              <a href="/tf-ibm-docs/v0.4.0/d/app.html">app</a>
            </li>
            <li>
              <a href="/tf-ibm-docs/v0.4.0/d/app_domain_private.html">app_domain_private</a>
            </li>
            <li>
              <a href="/tf-ibm-docs/v0.4.0/d/app_domain_shared.html">app_domain_shared</a>
            </li>
            <li>
              <a href="/tf-ibm-docs/v0.4.0/d/app_route.html">app_route</a>
            </li>
            <li>
              <a href="/tf-ibm-docs/v0.4.0/d/org.html">org</a>
            </li>
            <li>
              <a href="/tf-ibm-docs/v0.4.0/d/service_instance.html">service_instance</a>
            </li>
            <li>
              <a href="/tf-ibm-docs/v0.4.0/d/service_key.html">service_key</a>
            </li>
            <li>
              <a href="/tf-ibm-docs/v0.4.0/d/service_plan.html">service_plan</a>
            </li>
            <li>
              <a href="/tf-ibm-docs/v0.4.0/d/space.html">space</a>
            </li>
          </ul>
        </li>

        <li>
          <label class="tree-toggle">
            <i class="fa fa-caret-down"></i>
            Container Data Sources
          </label>
          <ul class="list-unstyled tree">
              <li>
                <a href="/tf-ibm-docs/v0.4.0/d/container_cluster.html">container_cluster</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/d/container_cluster_config.html">container_cluster_config</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/d/container_cluster_worker.html">container_cluster_worker</a>
              </li>
          </ul>
        </li>

        <li>
          <label class="tree-toggle">
            <i class="fa fa-caret-down"></i>
            Infrastructure Data Sources
          </label>
          <ul class="list-unstyled tree">
              <li>
                <a href="/tf-ibm-docs/v0.4.0/d/compute_image_template.html">compute_image_template</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/d/compute_ssh_key.html">compute_ssh_key</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/d/compute_vm_instance.html">compute_vm_instance</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/d/dns_domain.html">dns_domain</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/d/network_vlan.html">network_vlan</a>
              </li>
          </ul>
        </li>

        <li>
          <label class="tree-toggle">
            <i class="fa fa-caret-down"></i>
            Cloud Foundry Resources
          </label>
          <ul class="list-unstyled tree">
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/app.html">app</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/app_domain_private.html">app_domain_private</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/app_domain_shared.html">app_domain_shared</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/app_route.html">app_route</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/service_instance.html">service_instance</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/service_key.html">service_key</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/space.html">space</a>
              </li>
          </ul>
        </li>

        <li>
          <label class="tree-toggle">
            <i class="fa fa-caret-down"></i>
            Container Resources
          </label>
          <ul class="list-unstyled tree">
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/container_bind_service.html">container_bind_service</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/container_cluster.html">container_cluster</a>
              </li>
          </ul>
        </li>

        <li>
          <label class="tree-toggle">
            <i class="fa fa-caret-down"></i>
            Infrastructure Resources
          </label>
          <ul class="list-unstyled tree">
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/compute_autoscale_group.html">compute_autoscale_group</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/compute_autoscale_policy.html">compute_autoscale_policy</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/compute_bare_metal.html">compute_bare_metal</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/compute_monitor.html">compute_monitor</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/compute_provisioning_hook.html">compute_provisioning_hook</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/compute_ssh_key.html">compute_ssh_key</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/compute_ssl_certificate.html">compute_ssl_certificate</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/compute_user.html">compute_user</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/compute_vm_instance.html">compute_vm_instance</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/dns_domain.html">dns_domain</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/dns_record.html">dns_record</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/firewall.html">firewall</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/firewall_policy.html">firewall_policy</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/lb.html">lb</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/lb_service.html">lb_service</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/lb_service_group.html">lb_service_group</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/lb_vpx.html">lb_vpx</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/lb_vpx_ha.html">lb_vpx_ha</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/lb_vpx_service.html">lb_vpx_service</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/lb_vpx_vip.html">lb_vpx_vip</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/network_public_ip.html">network_public_ip</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/network_vlan.html">network_vlan</a>
              </li>
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/object_storage_account.html">object_storage_account</a>
              </li>    
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/storage_block.html">storage_block</a>
              </li>                        
              <li>
                <a href="/tf-ibm-docs/v0.4.0/r/storage_file.html">storage_file</a>
              </li>
          </ul>
        </li>

    </ul>
  </div>
</div>

<div class="col-lg-1 col-md-1 col-sm-1 col-xs-1">
  <span id="sidebar-tab" class="pull-left glyphicon glyphicon-chevron-left"></span>
</div>

      <div  id="content-container" class="content col-lg-10 col-md-9 col-sm-6 col-xs-12">
        <h1 id="ibm_container_cluster">ibm_container_cluster</h1>

<p>Create, update, or delete a Kubernetes cluster. An existing subnet can be attached to the cluster by passing the subnet ID. A webhook can be registered to a cluster and you can add multiple worker nodes with the <code class="prettyprint">workers</code> option.</p>

<h2 id="example-usage">Example Usage</h2>

<p>In the following example, you can create a Kubernetes cluster:</p>
<pre class="highlight plaintext"><code>resource "ibm_container_cluster" "testacc_cluster" {
  name            = "test"
  datacenter      = "dal10"
  machine_type    = "free"
  isolation       = "public"
  public_vlan_id  = "vlan"
  private_vlan_id = "vlan"
  subnet_id       = ["1154643"]

  workers = [{
    name = "worker1"

    action = "add"
  }]

  webhook = [{
    level = "Normal"

    type = "slack"

    url = "https://hooks.slack.com/services/yt7rebjhgh2r4rd44fjk"
  }]

  org_guid     = "test"
  space_guid   = "test_space"
  account_guid = "test_acc"
}
</code></pre>

<h2 id="argument-reference">Argument Reference</h2>

<p>The following arguments are supported:</p>

<ul>
<li><code class="prettyprint">name</code> - (Required) Name of the cluster.</li>
<li><code class="prettyprint">datacenter</code> - (Required)  The data center of the worker nodes. Use the <code class="prettyprint">bluemix cs locations</code> command to find the datacenters. Installing Bluemix cli and Installing IBM-Containers plugin can be found <a href="https://console.ng.bluemix.net/docs/cli/reference/bluemix_cli/index.html#getting-started">here</a></li>
<li><code class="prettyprint">org_guid</code> - (Required) The GUID for the Bluemix organization that the cluster is associated with. The values can be retrieved from data source <code class="prettyprint">ibm_org</code>, or by running the <code class="prettyprint">bx iam orgs --guid</code> command in the <a href="https://console.ng.bluemix.net/docs/cli/reference/bluemix_cli/index.html#getting-started">Bluemix CLI</a>.</li>
<li><code class="prettyprint">space_guid</code> - (Required) The GUID for the Bluemix space that the cluster is associated with. The values can be retrieved from data source <code class="prettyprint">ibm_space</code>, or by running the <code class="prettyprint">bx iam space &lt;space-name&gt; --guid</code> command in the Bluemix CLI.</li>
<li><code class="prettyprint">account_guid</code> - (Required) The GUID for the Bluemix account that the cluster is associated with. The values can be retrieved from data source <code class="prettyprint">ibm_account</code>, or by running the <code class="prettyprint">bx iam accounts</code> command in the Bluemix CLI.</li>
<li><code class="prettyprint">workers</code> - (Required) The worker nodes that needs to be added to the cluster.</li>
<li><code class="prettyprint">machinetype</code> - (Optional) The machine type of the worker nodes. The value can be retrieved by running the <code class="prettyprint">bx cs machine-types &lt;data-center&gt;</code> command in the Bluemix CLI.</li>
<li><code class="prettyprint">billing</code> -  (Optional) The billing type for the instance. Accepted values are <code class="prettyprint">hourly</code> or <code class="prettyprint">monthly</code>.</li>
<li><code class="prettyprint">isolation</code> - (Optional) Accepted values are <code class="prettyprint">public</code> or <code class="prettyprint">private</code>.</li>
<li><code class="prettyprint">public_vlan_id</code>- (Optional) The public VLAN of the worker node. The value can be retrieved by running the <code class="prettyprint">bx cs vlans &lt;data-center&gt;</code> command in the Bluemix CLI.</li>
<li><code class="prettyprint">private_vlan_id</code> - (Optional) The private VLAN of the worker node. The value can be retrieved by running the <code class="prettyprint">bx cs vlans &lt;data-center&gt;</code> command in the Bluemix CLI.</li>
<li><code class="prettyprint">subnet_id</code> - (Optional) The existing subnet ID that you want to add to the cluster. The value can be retrieved by running the <code class="prettyprint">bx cs subnets</code> command in the Bluemix CLI.</li>
<li><code class="prettyprint">no_subnet</code> - (Optional) The option if you do not want to automatically create a portable subnet.</li>
<li><code class="prettyprint">webhook</code> - (Optional) The webhook that you want to add to the cluster.</li>
<li><code class="prettyprint">wait_time_minutes</code> - (Optional) The duration, expressed in minutes, to wait for the cluster to become available before declaring it as created. It is also the same amount of time waited for no active transactions before proceeding with an update or deletion. Default value: <code class="prettyprint">90</code>.</li>
</ul>

<h2 id="attributes-reference">Attributes Reference</h2>

<p>The following attributes are exported:</p>

<ul>
<li><code class="prettyprint">id</code> - ID of the cluster.</li>
<li><code class="prettyprint">name</code> - Name of the cluster.</li>
<li><code class="prettyprint">server_url</code> - The server URL.</li>
<li><code class="prettyprint">ingress_hostname</code> - The ingress hostname.</li>
<li><code class="prettyprint">ingress_secret</code> - The ingress secret.</li>
<li><code class="prettyprint">worker_num</code> - The number of worker nodes for this cluster.</li>
<li><code class="prettyprint">workers</code> - The worker nodes attached to this cluster.</li>
<li><code class="prettyprint">subnet_id</code> - The subnets attached to this cluster.</li>
</ul>

      </div>
    </div>
  </div>
  <footer class="site-footer">
  <div class="container">
    <div class="col-md-9">
      <ul class="list-inline social-list">
        <li>
          <a href="https://github.com/IBM-Bluemix/terraform-provider-ibm">
            <i class="fa fa-lg fa-github"></i>
            GitHub</a>
        </li>
        <li>
          <a href="https://ibm-cloud-schematics.slack.com/signup">
            <i class="fa fa-lg fa-slack"></i>
            Slack</a>
        </li>
      </ul>
    </div>
    <div class="col-md-3">
      IBM Cloud Provider for Terraform&trade;
    </div>
  </div>
</footer>

  <script src="../javascript/sidemenu.js"></script>
</body>
</html>
